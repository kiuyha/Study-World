{% extends "user/template_user.html" %}
{% block title %}Profil{% endblock %}
{% block extra_style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/user/profile.css') }}">
{% endblock %}
{% block main_content %}
    <div id="main_content">
        <div id="upper-bar">
            <p>My Profile</p>
            <div>
                <div class="achievements">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M280-280h280v-80H280v80Zm0-160h400v-80H280v80Zm0-160h400v-80H280v80Zm-80 480q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg>
                    <p id="module_finish">{{ user_module }}</p>
                </div>
                <div class="achievements">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M560-360q17 0 29.5-12.5T602-402q0-17-12.5-29.5T560-444q-17 0-29.5 12.5T518-402q0 17 12.5 29.5T560-360Zm-30-128h60q0-29 6-42.5t28-35.5q30-30 40-48.5t10-43.5q0-45-31.5-73.5T560-760q-41 0-71.5 23T446-676l54 22q9-25 24.5-37.5T560-704q24 0 39 13.5t15 36.5q0 14-8 26.5T578-596q-33 29-40.5 45.5T530-488ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z"/></svg>
                    <p id="quiz_finish">{{ user_quiz }}</p>
                </div>
                <div class="achievements" style="border-color: #e9b149">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e9b149"><path d="m354-287 126-76 126 77-33-144 111-96-146-13-58-136-58 135-146 13 111 97-33 143ZM233-120l65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Zm247-350Z"/></svg>
                    <p id="user_point">{{user_point}}</p>
                </div>
            </div>
        </div>
        <div id="content">
            <div id="left-side">
                <div id="user-info">
                    <img src="{{ url_for('static', filename=user.photo) }}" alt="profil picture">
                    <div id="user-info-detail">
                        <h2 id="username">{{user.username}}</h2>
                        <p>{{user.School_name}}</p>
                    </div>
                </div>
                <div class="chart">
                    <div class="header">
                        <div class="title">
                            <svg viewBox="0 0 24 24" fill="none" focusable="false" class="chakra-icon css-1ouhgs0"><path d="M21 21H4.6c-.56 0-.84 0-1.054-.109a1 1 0 01-.437-.437C3 20.24 3 19.96 3 19.4V3m18 4l-5.434 5.434c-.198.198-.297.297-.412.334a.499.499 0 01-.309 0c-.114-.037-.213-.136-.41-.334l-1.87-1.868c-.197-.198-.296-.297-.41-.334a.499.499 0 00-.31 0c-.114.037-.213.136-.41.334L7 15m14-8h-4m4 0v4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                            <p>Point Statistics</p>
                        </div>
                        <div class="refresh" onclick="refresh(this)">
                            <p>Refresh</p>
                            <button>
                                <img src="{{ url_for('static', filename='img/dash/refresh.png') }}">
                            </button>
                        </div>
                    </div>
                    <div class="chart-box">
                        <canvas id="myChart"></canvas>
                        <p id="no-data-message" style="visibility: hidden;">No data available.</p>
                    </div>
                </div>
            </div>
            <div id="right-side">
                <div class="title-leader">
                    <svg xmlns="http://www.w3.org/2000/svg" height="2rem" viewBox="0 -960 960 960" width="2rem" fill="#e8eaed"><path d="M160-200h160v-320H160v320Zm240 0h160v-560H400v560Zm240 0h160v-240H640v240ZM80-120v-480h240v-240h320v320h240v400H80Z"/></svg>
                    <h1>LEADERBOARD</h1>
                </div>
                <div id="leaderboard">
                </div>
            </div>
        </div>
        <div id="user-activity"></div>
    </div>
{% endblock %}
{% block extra_script %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script src="{{ url_for('static', filename='js/user/profile.js') }}"></script>
{% endblock %}